<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>ECE 5160 Lab 8</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="index.html">ECE 5160 Home</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="about.html">About</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('assets/img/gradient_background.jpeg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Lab 8: Stunts</h1>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <h2 class="section-heading">Objective</h2>
                        <p>In lab 8, I used everything that we learned from the previous labs to do a stunt. Again, since I chose task A in the earlier labs, I decided to do the stunt for position control, which started around 3 meters from the wall, drove towards the wall until around it was around 0.5m away, then performed a flip and drove back. </p>
                        <p>I worked with Eshita Sangani on this lab. </p>

                        <h2 class="section-heading">Implementation</h2>
                        <p>Because I wanted to speed towards the wall as fast as possible, I did not use PID control. Instead, I used a single PWM value and used the ToF sensor values to determine whether to suddenly change directions or not. The code used to do this is shown below: </p>
                        <script src="https://gist.github.com/umdiddle/5d8423808732420fb46fbe0dbaea71d0.js"></script>
                        <p>The target is manually set by the user for ease of debugging, we found that a value of around 500mm was sufficient. </p>
                        <p>The Arduino code has 5 seconds to run the whole sequence. It drives the robot towards the wall, continually checking for data. Once the distance from the wall is detected to be less than the target, it immediately spins the wheels backwards at maximum speed. </p>
                        <p>When we tested the robot, it was unable to flip. We initially tested the robot in the lobby of our apartment building as seen in the first video, and then moved into the hallway outside of the lab with the sticky mat, as seen in the second video. The associated plots are also shown below. At this point, we went through a series of tests to try to diagnose the issue. </p>
                        <img src="assets/img/lab8_lobbytof.png" style="object-fit:contain; width:100%">
                        <img src="assets/img/lab8_lobbymotor.png" style="object-fit:contain; width:100%">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/HGb5Ze2u99w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

                        <h2 class="section-heading">Testing</h2>
                        <p>The next thing we tried was to do open loop control. With this, we reverted back to our lab 5 PWM code. We added delays so that it would drive forwards for 2 seconds then revert directions and drive backwards for 2 seconds. This was to see whether the robot simply had the capability to flip. Then, to see whether the weight was playing a difference, we did the same test but in the opposite direction (backwards first, then forwards). We also tried flipping the robot upside down, but none of these were successful. The trial is shown below, but we did not record ToF or motor data since this was a test to see if the stunt worked. </p>
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/wX7DLjc96X8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </article>
        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <div class="small text-center text-muted fst-italic">Copyright &copy; Your Website 2022</div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
